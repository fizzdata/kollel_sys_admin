import{bx as a,bu as n}from"./CQhMbuYm.js";import{u}from"./DImwLAFM.js";const l=()=>{const t=a().public.API_URL,s=u("kollel_sys_token");return async(o,r={})=>{try{return await $fetch(o,{baseURL:t,headers:{"Content-Type":"application/json",Accept:"application/json",...s.value?{Authorization:`Bearer ${s.value}`}:{}},...r})}catch(e){return e.response?._data?.reLogin===!0&&(s.value=null,n("/login")),e.response?e.response:{success:!1,message:e?.data?.message||"An unexpected error occurred.",status:e?.status||500}}}};export{l as u};
