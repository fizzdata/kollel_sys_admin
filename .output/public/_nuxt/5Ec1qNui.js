import{_ as x,af as b,k as w,c as l,o as r,b as o,w as a,a as c,n as S,g,i as $,d as u,F as A,h as B,E as C,t as L,bu as E,B as N}from"./CQhMbuYm.js";import{_ as T}from"./DWuGTojh.js";import{u as n}from"./DImwLAFM.js";import{u as z}from"./D9TaRR3o.js";const U={class:"border-b border-gray-200 bg-primary"},V={class:"flex flex-col md:flex-row items-center justify-between py-6 gap-4","aria-label":"Global"},F={class:"flex lg:flex-1"},G={key:0,class:"flex text-center items-center gap-x-4"},H={key:1,class:"flex gap-x-4 lg:gap-x-8"},P={__name:"AppHeader",setup(_){const d=b(),t=n("kollel_sys_token"),f=w(),y=z(),h=[{name:"Login",href:"/login"},{name:"Signup",href:"/signup"}],k=async()=>{try{const e=await y("/api/logout",{method:"POST",body:{token:t.value}});e?.success&&(f.add({description:e?.message||"Admin Logout Successfully",color:"success",timeout:2e3}),t.value=null,E("/login"),n("kollel_sys_token").value=null,n("kollel_sys_org").value=null,n("kollel_sys_user").value=null,n("kollel_sys_has_access").value=null),!e?._data?.success&&!e?.success&&f.add({title:"Error",description:e?.message||e?._data?.message||"Something went wrong. Please try again later.",color:"red",timeout:2e3})}catch(e){console.error("Error during sign-up:",e)}};return(e,s)=>{const m=S,p=$,v=T;return r(),l("header",U,[o(v,null,{default:a(()=>[c("nav",V,[c("div",F,[o(m,{to:"/",class:"-m-1.5 p-1.5"},{default:a(()=>[...s[0]||(s[0]=[c("span",{class:"font-bold text-white"},"KollelSys Admin ",-1)])]),_:1})]),g(t)?(r(),l("div",G,[o(p,{size:"xl",to:"/users"},{default:a(()=>[...s[1]||(s[1]=[u("Go to your account",-1)])]),_:1}),c("div",null,[o(p,{type:"submit",color:"neutral",size:"lg",onClick:k},{default:a(()=>[...s[2]||(s[2]=[u(" Logout ",-1)])]),_:1})])])):(r(),l("div",H,[(r(),l(A,null,B(h,i=>o(m,{key:i.name,to:i.href,class:C(["nav-link text-white hover:text-white font-medium",g(d).path===i.href?"font-bold":""])},{default:a(()=>[u(L(i.name),1)]),_:2},1032,["to","class"])),64))]))])]),_:1})])}}},j=x(P,[["__scopeId","data-v-32e2079c"]]),D={},I={class:"flex flex-col min-h-screen"},K={class:"flex-1 relative isolate"};function O(_,d){const t=j;return r(),l("div",I,[o(t),c("main",K,[N(_.$slots,"default")])])}const Q=x(D,[["render",O]]);export{Q as default};
